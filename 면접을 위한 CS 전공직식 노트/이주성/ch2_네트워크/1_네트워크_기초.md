
## 네트워크의 기초
- 네트워크 = node + link
  - node: 서버, 라우터, 스위치 등 네트워크 장비
  - link: 유무선 연결 장치

<br/>

---

### 처치량과 지연 시간

**좋은 네트워크의 기준**
- 많은 처리량(throughput)
  - link를 통해 전달되는 단위 시간당 데이터양
  - 단위: bps(bits per second)
  - throughput 영향 요인: 트래픽, 네트워크 장치 간 대역폭, 에러, 하드웨어 스펙 등
- 짧은 지연 시간(latency)
  - 요청이 처리되는 시간으로 메세지가 두 장치 사이를 왕복하는 데 걸린 시간
  - latency 영향 요인: 매체 타입(유선, 무선), 패킷 크기, 라우터의 패킷 처리 시간

<br/> 

---

### 네트워크 토폴로지와 병목 현상

![img.png](img.png)

- 트리 포폴로지
  - 계층형 토폴로지로 노드의 추가, 삭제 간편
  - 상위 노드에 트래픽이 집중되면 하위 노드에 영향
- 버스 토폴로지
  - 모든 장치가 단일 중앙 케이블(버스)에 연결된 구조 
  - 설치 비용이 적고 신뢰성 우수
  - 하나만 이상해도 큰 장애 발생 가능성
  - 스푸핑 가능성
    - LAN상에서 모든 장치가 하나의 케이블을 공유하므로, 스위칭 기능을 마비시키거나 데이터를 가로채 변조할 가능성이 있다.
- 스타 토폴로지(성형 토폴로지)
  - 중앙 노드에 모든 노드가 연결된 구조
  - 에러 및 장애를 탐지하기 쉽고 패킷 충돌 발생 가능성이 작다.
  - 중앙 노드에 장애 발생 시 전체 네트워크가 마비
  - 높은 설치 비용
- 링형 토폴로지
  - 양 옆의 두 노드와 연결해 전체적으로 고리 형태로 연속된 길을 통해 통신하는 구조
  - 데이터 손실이 거의 없고 충돌 가능성도 적다.
  - 네트워크 구성 변경이 어렵고 장애 발생 시 전체 네트워크에 영향
  - 잘 사용 안 할 것 같지만 주로 무선 통신에서 사용
    - 드론 네트워크: 트론들을 링처럼 타고 타서 통신
    - ad-hoc Network: 네트워크에 참여하는 각 장치가 직접 서로 연결되는 임시 네트워크로 하나씩 붙여서 확장하는 형태
- 메시 토폴로지(망형/그물형 토폴로지)
  - 노드들이 각각 연결되어 있는 형태
  - 하나가 죽어도 여러 개의 경로가 존재해 통신이 가능하지만 오버헤드 커질 수 있음
  - 노드의 추가가 어렵고 비용이 높음


<br/>

**병목(bottleneck) 현상**
- 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한 받는 현상
  - ex) 서비스에서 이벤트를 열었는데 예상보다 트래픽이 많이 생겨서 웹 사이트 마비 
- 병목 현상의 기준: 네트워크 구조(토폴로지)

**토폴로지별 병목 현상 해결 방안**
- 스타 토폴로지
  - 중앙 연결 장치 (허브, 스위치 등)에 병목 현상
  - 중앙 연결 장치 업그레이드
  - 부분적으로 분산형 구조로 변경해 트래픽 분산
  - 중앙 장치에서 각 장치로 연결되는 추가 회선 설치
- 링형 토폴로지
  - 특정 구간 또는 장치에서 병목 현상
  - 이중 링 토폴로지를 도입해 대체 경로 제공
- 버스 토폴로지
  - 더 높은 대역폭을 제공하는 중앙 케이블로 교체
  - 여러 하위 네트워크로 분할
- 메시 토폴로지
  - 라우팅 프로토콜을 최적화해 데이터 전송 경로를 효율적으로 설정
- 트리 토폴로지
  - 상위 계층 노드에서 병목 현상
  - 상위 노드와 하위 노드 간의 연결 회선을 추가해 데이터 전송 용량 증가

<br/>

---

### 네트워크 분류
규모를 기반으로 네트워크 분류
- LAN (Local Area Network)
  - 근거리 통신망(같은 건물, 같은 동네)
  - 전송 속도가 빠르고 혼잡하지 않음
- MAN (Metropolitan Area Network)
  - 대도시 지역 네트워크
  - 전송 속도 쏘쏘, 약간 혼잡
- WAN (Wide Area Network)
  - 광역 네트워크 (국가 또는 대륙)
  - 전송 속도 낮고 혼잡

<br/>

---

### 네트워크 성능 분석 명령어

**네트워크 병목 현상 요인**
- 네트워크 대역폭
- 네트워크 토폴로지
- 서버 CPU, 메모리 사용량
- 비효율적인 네트워크 구성

**`ping`: Packet INternet Groper**
- 특정 네트워크 주소(IP 주소 또는 도메인 이름)로 패킷을 보내고 응답 시간을 측정하여 네트워크 연결 상태를 확인
- TCP/IP 프로토콜 중 ICMP 프로토콜(Internet Control Message Protocol, 인터넷 제어 메시지 프로토콜)을 통해 동작
  - 네트워크 연결 상태와 관련된 정보 교환을 위해 사용하는 프로토콜
  - 연결 상태를 유지하지 않고 메세지 교환


**`netstat`**
- 네트워크 연결, 라우팅 테이블, 네트워크 인터페이스 통계 등을 확인

**`nslookup`**
![img_2.png](img_2.png)
- 도메인 이름 시스템(DNS) 조회를 수행해 도메인 이름에 해당하는 IP 주소를 찾거나, IP 주소에 해당하는 도메인 이름을 찾는 데 사용

**`traceroute`**
- 특정 목적지로 가는 경로를 추적하여 네트워크 경로에 있는 각 홉(네트워크 장치)까지의 응답 시간을 측정하는 데 사용
- 데이터 패킷이 목적지에 도달하기까지 거치는 경로와 각 경로의 지연 시간을 알 수 있다.


<br/>

---

### 네트워크 프로토콜 표준화
네트워크 프로토콜 표준화는 다양한 제조업체가 만든 장치들이 상호 호환성을 유지하면서 원활하게 통신할 수 있도록 공통된 규칙과 인터페이스를 정의하는 것이다.
- IEEE 또는 IETF 표준화 단체가 지정
- IEEE 802.3 (이더넷): 유선 LAN 프로토콜
- IEEE 802.11 (Wi-Fi): 무선 LAN 프로토콜 
- HTTP(Hypertext Transfer Protocol): 웹 접속 시 사용하는 프로토콜
- TCP/IP: 인터넷과 대부분의 네트워크에서 사용되는 기본 프로토콜로 TCP는 신뢰성 있는 연결을 제공하고 IP는 데이터 패킷의 라우팅을 담당
- SMTP(Simple Mail Transfer Protocol): 이메일 전송을 위한 프로토콜
- FTP(File Transfer Protocol): 파일 전송을 위한 프로토콜
- ...

<br/>

---

**출처**
- http://www.ktword.co.kr/test/view/view.php?no=356